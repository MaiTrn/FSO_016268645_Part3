{"version":3,"sources":["services/persons.js","components/PersonList.js","components/Filter.js","components/PersonForm.js","components/Notifications.js","App.js","index.js"],"names":["baseURL","axios","get","then","response","data","newPerson","post","id","put","delete","Person","person","onRemove","name","number","onClick","window","confirm","PersonList","list","map","Filter","filterName","setFilterName","value","onChange","event","target","PersonForm","personNames","onSubmit","onChangeNumber","useState","newName","setNewName","newNumber","setNewNumber","preventDefault","trim","indexOf","toLowerCase","pattern","required","type","placeholder","Notifications","message","notificationType","className","App","persons","setPersons","errorMessage","setErrorMessage","confirmMessage","setConfirmMessage","useEffect","personService","initialData","filteredPersons","filter","match","length","returnedPerson","concat","setTimeout","catch","error","personToChange","find","p","changedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.259b6d05.chunk.js","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\r\nimport axios from \"axios\";\r\n\r\nconst baseURL = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseURL);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newPerson) => {\r\n  const request = axios.post(baseURL, newPerson);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newPerson) => {\r\n  const request = axios.put(`${baseURL}/${id}`, newPerson);\r\n  return request.then((response) => response.data);\r\n};\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseURL}/${id}`);\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove,\r\n};\r\n","import React from \"react\";\r\n\r\nconst Person = ({ person, onRemove }) => {\r\n  const handleRemove = () => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      onRemove(person.id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <tr>\r\n      <td>{person.name}</td>\r\n      <td>{person.number}</td>\r\n      <td>\r\n        <button onClick={handleRemove}>Delete</button>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst PersonList = ({ list, onRemove }) => (\r\n  <table>\r\n    <tbody>\r\n      {list.map((person) => (\r\n        <Person key={person.id} {...{ person, onRemove }} />\r\n      ))}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nexport default PersonList;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ filterName, setFilterName }) => {\r\n  const handleFilterChange = (event) => {\r\n    setFilterName(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      Filter shown with{\" \"}\r\n      <input value={filterName} onChange={handleFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { useState } from \"react\";\r\n\r\nconst PersonForm = ({ personNames, onSubmit, onChangeNumber }) => {\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const name = newName.trim();\r\n    if (personNames.indexOf(name.toLowerCase()) !== -1) {\r\n      if (\r\n        window.confirm(\r\n          `${name} is already added to the phonebook, replace the old number with the new one?`\r\n        )\r\n      )\r\n        onChangeNumber(name, newNumber);\r\n    } else {\r\n      onSubmit(name, newNumber);\r\n    }\r\n    setNewName(\"\");\r\n    setNewNumber(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <td>Name:</td>\r\n            <td>\r\n              <input\r\n                pattern=\"[a-zA-Z\\s]+\"\r\n                value={newName}\r\n                onChange={handleNameChange}\r\n                required\r\n              />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Number:</td>\r\n            <td>\r\n              <input\r\n                type=\"tel\"\r\n                value={newNumber}\r\n                onChange={handleNumberChange}\r\n                pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\"\r\n                placeholder=\"000-000-0000\"\r\n                required\r\n              />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td></td>\r\n            <td>\r\n              <button type=\"submit\">Add</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n  );\r\n};\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Notifications = ({ message, notificationType }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return <div className={notificationType}>{message}</div>;\r\n};\r\n\r\nexport default Notifications;\r\n","import React, { useState, useEffect } from \"react\";\n\nimport personService from \"./services/persons\";\nimport PersonList from \"./components/PersonList\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Notifications from \"./components/Notifications\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filterName, setFilterName] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [confirmMessage, setConfirmMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialData) => {\n      setPersons(initialData);\n    });\n  }, []);\n\n  const personNames = persons.map((person) => person.name.toLowerCase());\n  const filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().match(filterName.toLowerCase())\n  );\n  const list = filterName.length === 0 ? persons : filteredPersons;\n\n  const onSubmit = (newName, newNumber) => {\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    personService\n      .create(newPerson)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setConfirmMessage(`Added ${newName}`);\n        setTimeout(() => {\n          setConfirmMessage(null);\n        }, 5000);\n      })\n      .catch((error) => {\n        setErrorMessage(error);\n      });\n  };\n  const onRemove = (id) => {\n    personService\n      .remove(id)\n      .then(() => {\n        setPersons(persons.filter((p) => p.id !== id));\n      })\n      .catch((error) => {\n        setErrorMessage(error);\n      });\n  };\n  const onChangeNumber = (newName, newNumber) => {\n    const personToChange = persons.find((p) => p.name === newName);\n    const changedPerson = { ...personToChange, number: newNumber };\n\n    personService\n      .update(personToChange.id, changedPerson)\n      .then((data) => {\n        setPersons(persons.map((p) => (p.id !== personToChange.id ? p : data)));\n        setConfirmMessage(`Changed number of ${newName} to ${newNumber}`);\n        setTimeout(() => {\n          setConfirmMessage(null);\n        }, 5000);\n      })\n      .catch(() => {\n        setErrorMessage(\n          `The person ${personToChange.name} was already deleted from the server`\n        );\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n        setPersons(persons.filter((p) => p.id !== personToChange.id));\n      });\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter {...{ filterName, setFilterName }} />\n\n      <h2>Add new</h2>\n      <PersonForm\n        {...{\n          personNames,\n          onSubmit,\n          onChangeNumber,\n        }}\n      />\n      <Notifications message={confirmMessage} notificationType=\"confirm\" />\n      <Notifications message={errorMessage} notificationType=\"error\" />\n\n      <h2>Contacts List</h2>\n      <PersonList {...{ list, onRemove }} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}